<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>User Profile</title>

  <!-- Bootstrap for Mobile-first, and JQuery -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="./styles/profile.css">
  <link rel="stylesheet" href="./styles/my_app_palette3.css">

  <!-- Copied from firebase documentation -->
  <script src="https://www.gstatic.com/firebasejs/7.24.0/firebase-app.js"></script>

  <!-- Add Firebase products that you want to use -->
  <script src="https://www.gstatic.com/firebasejs/7.24.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.24.0/firebase-firestore.js"></script>
</head>

<body>
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <a class="navbar-brand" href="profile.html"><img src="./images/usericon-2.png" alt="icon" id=icon></a>

    <!--Dropdown button center to change to groups-->
    <div class="navbar-brand">
      <div><span id="UserName">Profile</span></div>
    </div>

    <!--Dropdown button Top Right-->
    <div class="dropdown">
      <button class="navbar-toggler btn-primary" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo02"><span
          class="navbar-toggler-icon"></span>
        <div class="dropdown-content">
          <a href="matches.html">Matches</a>
          <a href="messages.html">Messages</a>
        </div>
      </button>
    </div>

    <div class="collapse navbar-collapse" id="navbarTogglerDemo02">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <a class="nav-link" href="matches.html"><span id="matches">Matches</span></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="messages.html"><span id="messages">Messages</span></a>
        </li>
      </ul>
    </div>
  </nav>

  <!--UPLOAD PROFILE PICTURE-->
  <img src='https://dummyimage.com/800x800/faf0ca/000000&text=Profile' alt='profile picture' id='circle'>
  <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
  <main class="main_full">
    <div class="container">
      <div class="panel">
        <div class="button_outer">
          <div class="btn_upload">
            <input type="file" id="upload_file" name="">
            Upload Profile Picture
          </div>
          <div class="processing_bar"></div>
          <div class="success_box"></div>
        </div>
      </div>
      <div class="error_msg"></div>
      <div class="uploaded_file_view" id="uploaded_view">
        <span class="file_remove">X</span>
      </div>
    </div>
  </main>

  <!--<img src='https://dummyimage.com/800x800/faf0ca/000000&text=Profile' alt='profile picture' id='circle'>
  <a class="btn btn-secondary" href=# role="button">Change Profile Picture
  </a>
  -->
  <script>
    var btnUpload = $("#upload_file"),
		btnOuter = $(".button_outer");
	  btnUpload.on("change", function(e){
		var ext = btnUpload.val().split('.').pop().toLowerCase();
		if($.inArray(ext, ['gif','png','jpg','jpeg']) == -1) {
			$(".error_msg").text("Not an Image...");
		} else {
			$(".error_msg").text("");
			btnOuter.addClass("file_uploading");
			setTimeout(function(){
				btnOuter.addClass("file_uploaded");
			},3000);
			var uploadedFile = URL.createObjectURL(e.target.files[0]);
			setTimeout(function(){
				$("#uploaded_view").append('<img src="'+uploadedFile+'" />').addClass("show");
			},3500);
		}
	});
	$(".file_remove").on("click", function(e){
		$("#uploaded_view").removeClass("show");
		$("#uploaded_view").find("img").remove();
		btnOuter.removeClass("file_uploading");
		btnOuter.removeClass("file_uploaded");
	});
  </script>


  
  <!---->
  <form>
    <h1>Personal Information</h1>
    <label for="Gender">Gender</label><br>
    <select id="Gender" name="Gender">
      <option value="Male">Male</option>
      <option value="Female">Female</option>
      <option value="Other">Other</option>
    </select>
    <br>
    <label for="Birth date">Birth Date</label><br>
    <input type="date" id="Birthday" name="birthday"><br>
    <label for="Location">Location</label><br>
    <input type="text" id="City" name="City" placeholder="City"><br>
    <input type="text" id="Province" name="Province" placeholder="Province"><br>

    <h1>Fitness Interests</h1>
    <p>Activities youâ€™re interested in will be added as tags to your profile.</p>

    <input type="text" id="Activity-1" name="Activity-1" placeholder="#Activity 1"><br>
    <select id="SkillLevel-1" name="SkillLevel-1">
      <option value="Beginner">Beginner</option>
      <option value="Intermediate">Intermediate</option>
      <option value="Expert">Expert</option>
    </select><br>
  </form>
  <a class="btn btn-secondary" id="save" href=# role="button">Save</a>

  <script src="./scripts/firebase_api_fitmatch.js"> </script>
  <script src="./scripts/readUserName.js"> </script>
  <script src="./scripts/saveProfile.js"> </script>
</body>